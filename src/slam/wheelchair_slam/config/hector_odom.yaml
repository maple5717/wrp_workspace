ekf_node:
  ros__parameters:
    # Frame IDs
    odom_frame: "map"
    map_frame: "map"
    base_link_frame: "base_link"
    # imu_frame: "camera_imu_optical_frame"

    # Sensor data sources
    use_sim_time: false
    publish_tf: true
    publish_acceleration: false

    two_d_mode: true
    frequency: 20.0
    sensor_timeout: 0.1

    # IMU configuration
    # imu0: "/camera/camera/imu"  # The topic for IMU data
    # imu0_config: [false, false, false,  # x, y, z
    #               false, false, true,     # roll ,pitch, yaw
    #               false, false, false,    # x', y', z'
    #               false, false, true,    # roll' ,pitch', yaw'
    #               true, true, false,  # x'', y'', z''
    #               ]
    # imu0_config: [false, false, false,    # x, y, z
    #               false, false, false,     # roll ,pitch, yaw
    #               false, false, false,    # x', y', z'
    #               true, true, true,    # roll' ,pitch', yaw'
    #               false, false, false,  # x'', y'', z''
    #               ]

    # imu_queue_size: 1

    # No odometry configuration
    odom0: "/hector_out_pose" # "/kimera_vio_ros/odometry"  
    odom0_config: [true, true, false,  # x, y, z
                  false, false, true,     # roll ,pitch, yaw
                  false, false, false,    # x', y', z'
                  false, false, false,    # roll' ,pitch', yaw'
                  false, false, false,  # x'', y'', z''
                  ]
    odom0_nodelay: true
    odom0_pose_rejection_threshold: 5.
    odom0_twist_rejection_threshold: 1.

    # # Process noise parameters (these may need tuning for your robot)
    # process_noise_covariance: [1.00e-05, 1.00e-05, 1.00e-05,  # Noise for x, y, and yaw
    #                            1.00e-05, 1.00e-05, 1.00e-05, 
    #                            1.00e-05, 1.00e-05, 1.00e-05,
    #                            1.00e-05, 1.00e-05, 1.00e-05, 
    #                            1.00e-05, 1.00e-05, 1.00e-05]

    # # Measurement noise parameters (these may need tuning for your sensors)
    # measurement_noise_covariance: [1.00e-05, 1.00e-05, 1.00e-05,  # Noise for x, y, and yaw
    #                                 1.00e-05, 1.00e-05, 1.00e-05, 
    #                                 1.00e-05, 1.00e-05, 1.00e-05,
    #                                 1.00e-05, 1.00e-05, 1.00e-05, 
    #                                 1.00e-05, 1.00e-05, 1.00e-05]




    # No odometry configuration
    # odom0: ""  
    # odom0_config: []

    # Process noise parameters (these may need tuning for your robot)
    # process_noise_covariance: [1.00e-05, 1.00e-05, 1.00e-05,  # Noise for x, y, and yaw
    #                            1.00e-05, 1.00e-05, 1.00e-05, 
    #                            1.00e-05, 1.00e-05, 1.00e-05,
    #                            1.00e-05, 1.00e-05, 1.00e-05, 
    #                            1.00e-05, 1.00e-05, 1.00e-05]

    # Measurement noise parameters (these may need tuning for your sensors)
    #                               x,         y,          z,           raw,      pitch,      yaw,          x',         y',           z'        raw'          pitch'      yaw'        x''         y''
    measurement_noise_covariance: [ 1.00e-07,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   1.00e-07,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   1.00e-04,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-04,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    1.00e-05,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   1.00e-07,   0.00e-00,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,
                                    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05]
    #                              x,         y,          z,           raw,      pitch,      yaw,          x',         y',           z'        raw'          pitch'      yaw'        x''         y''  
    process_noise_covariance: [1.5625e-04, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 6.2500e-03, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.2500e-01, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 1.5625e-04, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 6.2500e-03, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.2500e-01, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 3.1400e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 0.0000e+00, 3.1400e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 3.1400e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.5625e-04, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 6.2500e-03, 0.0000e+00, 0.0000e+00, 0.0000e+00, 
6.2500e-03, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 2.5000e-01, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 5.0000e+00, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 6.2500e-03, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 2.5000e-01, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 5.0000e+00, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 3.1400e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 3.1400e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 3.1400e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 6.2500e-03, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 2.5000e-01, 0.0000e+00, 0.0000e+00, 0.0000e+00, 
1.2500e-01, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 5.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.0000e+02, 0.0000e+00, 0.0000e+00, 
0.0000e+00, 1.2500e-01, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 5.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 1.0000e+02, 0.0000e+00, 
0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 0.0000e+00, 3.1400e+00]

    initial_estimate_covariance: [2.00e+01,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   2.00e+01,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   2.00e+01,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    1.00e-05,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05,   0.00e-00,
                                  0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,    0.00e-00,    0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   0.00e-00,   1.00e-05]